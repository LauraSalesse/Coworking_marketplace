<body style="background:#181818;">
  <div class="container_for_the_desk_show py-5" style="max-width: 900px; margin: 0 auto;">
    <div class="desk-details" style="background: #222; border-radius: 1.1rem; padding: 1.6rem; color: #e9e9e9;">
      <div class="d-flex flex-wrap justify-content-between align-items-start mb-3">
        <div style="flex:1 1 300px; min-width:230px; max-width:calc(100% - 265px);">
          <div class="desk-header mb-3">
            <h2 style="color:#fff; font-size:2rem; font-weight:600;"><%= @desk.title %></h2>
          </div>
          <div class="mb-2" style="font-size:1.13rem;">
            <p><strong>Description:</strong> <%= @desk.description %></p>
            <p><strong>Address:</strong> <%= @desk.address %></p>
            <p><strong>Location:</strong> <%= @desk.location %></p>
            <p><strong>Shared:</strong> <%= @desk.shared ? "The space will be shared with others" : "You will have the entire space for yourself" %></p>
            <p style="color:#2979ff; font-size:1.25rem; font-weight:600;"><strong>Price:</strong> $<%= @desk.price %> / day</p>
          </div>
        </div>
        <div class="ms-3" style="width: 245px; height: 175px; border-radius: 14px; overflow: hidden; flex-shrink:0;">
          <% if @desk.photos.attached? %>
            <%= image_tag @desk.photos.first, style: "width: 100%; height: 100%; object-fit: cover; border-radius: 14px;", alt: 'Desk photo' %>
          <% else %>
            <%= image_tag "https://via.placeholder.com/245x175?text=Workspace", style: "width: 100%; height: 100%; object-fit: cover; border-radius: 14px;", alt: 'Desk photo' %>
          <% end %>
        </div>
      </div>
      <!-- Booking form spans full width below -->
      <div style="background:#1a1a1a; border-radius: 1rem; padding: 1.2rem; margin-top:1.3rem;">
        <h5 style="color:#fff; font-size:1.15rem; margin-bottom:1rem;">I want to work there!</h5>
        <%= simple_form_for :booking, url: bookings_path, method: :post do |f| %>
          <%= f.hidden_field :desk_id, value: @desk.id %>
          <div class="row">
            <div class="col-md-6 mb-3">
              <%= f.input :start_date,
                as: :string,
                label: "Check-in Date",
                input_html: {
                  class: "form-control",
                  data: { controller: "datepicker" },
                  required: true
                } %>
            </div>
            <div class="col-md-6 mb-3">
              <%= f.input :end_date,
                as: :string,
                label: "Check-out Date",
                input_html: {
                  class: "form-control",
                  data: { controller: "datepicker" },
                  required: true
                } %>
            </div>
          </div>
          <div class="d-flex gap-2 mt-2">
            <%= f.button :submit, "Book!", class: "btn btn-search btn-action" %>
            <%= link_to "Back to search", desks_path, class: "btn btn-search btn-action" %>
          </div>
        <% end %>
        <% if flash[:alert] %>
          <div class="alert alert-danger alert-dismissible fade show mt-3" role="alert">
            <%= flash[:alert] %>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</body>
