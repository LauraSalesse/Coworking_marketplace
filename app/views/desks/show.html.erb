
<body>
<!--container for everything below the navbar-->
<div class="container_for_the_desk_show mt-5">
  <!--the name of the desk-->
  <div class="desk-header mb-4">
    <h2><%= @desk.title %> </h2>
  </div>





  <!--the caroussel showing the images of the desk-->
  <div class="desk-gallery mb-4">
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <% @desk.photos.each_with_index do |photo, index| %>
          <div class="carousel-item active <%= 'active' if index == 0 %>">
            <%= image_tag photo, class: "d-block mx-auto", style: "height: 300px; width: auto;", alt: "desk photo" %>
          </div>
        <%end%>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!--more details-->
  <div class="desk-details">
    <p><strong>Description:</strong><%=@desk.description%></p>
    <p><strong>Address:</strong><%=@desk.address%></p>
    <p><strong>Location:</strong><%=@desk.location%></p>
    <p><strong>Shared:</strong><%= @desk.shared ? "The space will be shared with others" : "you will have the entire space for yourself"%></p>
    <p><strong>Price:</strong><%=@desk.price%>$/day</p>

    <!--FORM to create a Booking with the two dates-->
  <div style="background-color:rgb(125, 125, 125); border-radius: 10px; padding: 20px;">
    <h5>I want to work there!</h5>

  <!-- This must POST to /bookings -->
    <%= simple_form_for :booking, url: bookings_path, method: :post do |f| %>
      <%= f.hidden_field :desk_id, value: @desk.id %>

      <%= f.input :start_date,
        as: :string,
         label: "Check-in Date",
          input_html: {
           class: "form-control",
          data: { controller: "datepicker" },
          required: true
          } %>

      <%= f.input :end_date,
              as: :string,
              label: "Check-out Date",
              input_html: {
                class: "form-control",
                data: { controller: "datepicker" },
                required: true
              } %>

      <%= f.button :submit, "Book!", class: "btn btn-primary mt-2" %>
    <% end %>
  <% if flash[:alert] %>
    <div class="alert alert-danger alert-dismissible fade show" style="position: absolute; top: 950px; bottom: 100px; right: 300px; height: 60px">
      <%= flash[:alert] %>
      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
  <% end %>
  </div>

    <!--Button to go back-->
  <%= link_to "Back to search", desks_path(@desk), class: "btn btn-outline-primary mt-3" %>

  </div>


</div>
</body>
