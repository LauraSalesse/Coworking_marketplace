<section class="search-section">
  <div class="container">
    <h1>Book your desk today</h1>
    <%= form_with url: offers_path, method: :get, local: true, class: "d-flex justify-content-center align-items-center gap-2", html: { style: "max-width:600px;margin:auto;" } do %>
      <%= text_field_tag :search, params[:search], placeholder: "Enter a location", class: "form-control", style: "max-width: 220px;" %>
      <button type="submit" class="btn btn-search">Search</button>
    <% end %>
  </div>
</section>

<section class="featured-section">
  <div class="container">
    <h2 class="mb-4" style="font-weight:500;letter-spacing:.5px;">Featured Workspaces</h2>
    <% if @desks.empty? %>
      <p>No workspaces available right now. Please check back soon.</p>
    <% else %>
      <div class="row row-cols-1 row-cols-md-3 g-4">
        <% @desks.each do |desk| %>
          <div class="col">
            <%= link_to desk_path(desk), class: "text-decoration-none text-reset" do %>
              <div class="card h-100">
                <% if desk.photos.attached? %>
                      <%= image_tag desk.photos.first, class: "card-img-top", alt: desk.title %>
                      <% else %>
                      <%= image_tag "https://via.placeholder.com/400x250?text=Workspace", class: "card-img-top", alt: desk.title %>
                    <% end %>

                <div class="card-body">
                  <h5 class="card-title"><%= desk.title %></h5>
                  <p class="card-text">
                    <strong>Price:</strong> $<%= desk.price %> / day<br>
                    <strong>Location:</strong> <%= desk.location %><br>
                    <strong>Description:</strong> <%= desk.description.truncate(60) %>
                  </p>
                </div>
              </div>
            <% end %>
          </div>
        <% end %>
      </div>
    <% end %>
  </div>
</section>
